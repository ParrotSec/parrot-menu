#/bin/bash
# This file is a simple script that start / stop / restart 
# services which is used from launchers
# It use menuexecg to start / stop / restart services and 
# show a notification to user
# The idea is we get rid of terminal with no useful usage
# author: Nong Hoang Tu <dmknght@parrotsec.org>

# Excepted usage: servicexc <start / stop / restart> <name>
TITLE="Parrot Service Runner"

menuexecg "/usr/sbin/service $2 $1"
result="$(systemctl is-active $2)"
# This is the command to show notification without icon
/usr/bin/notify-send "$TITLE" "$1 service $2: $result"
  # This is command to show notification with icon
  # if [ $result == "active" ]; then
  #   /usr/bin/notify-send "$TITLE" "$2 $result" # TODO -i icon succes
  # elif [ $result == "failed" ]; then
  #   /usr/bin/notifi-send $2 $result # TODO -i icon failed
  # else
  #   /usr/bin/notif-send $2 $result # TODO -i icon
  # fi
